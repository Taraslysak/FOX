(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{652:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return de})),n.d(t,"c",(function(){return ye}));var r=n(1),a=n.n(r),o=n(165),c=function(e){return a.a.createElement(o.C,e,e.linktext)},l=n(735),i=n.n(l),u=n(29);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=new u.a,w=a.a.createElement("div",{className:"pt-3 text-center"},a.a.createElement(o.fb,{size:"sm",variant:"grow",style:{width:"4rem",height:"4rem"}})),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,e);var t=y(n);function n(){var e;f(this,n);for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return E(h(e=t.call.apply(t,[this].concat(l))),"state",{parts:[],doc_type:"",loaded:!1,display_show:!0}),E(h(e),"handleShow",(function(){e.setState({display_show:!e.state.display_show})})),E(h(e),"getDisplayUrl",(function(){var t=e.state.parts;return"".concat(g.apiBase,"documents/display/").concat(t[0],"/").concat(t[1],"/").concat(t[2],"/")})),E(h(e),"componentDidMount",(function(){g.getDisplayPermission(e.props.document.id).then((function(t){e.setState(p(p({},t),{},{loaded:!0}))})).catch((function(e){console.log(e)}))})),E(h(e),"render",(function(){return console.log(e.state),e.state.loaded?a.a.createElement(r.Fragment,null,a.a.createElement(o.e,{block:!0,color:"link",className:"text-left m-0 p-0 mb-1",onClick:e.handleShow},e.state.display_show?"Hide preview":"Show preview"),a.a.createElement(o.m,{show:e.state.display_show},a.a.createElement(i.a,{fileType:e.state.doc_type,filePath:e.getDisplayUrl()}))):w})),e}return n}(r.Component),_=n(95),j=n(166);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n,r,a,o,c){try{var l=e[o](c),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){S(o,r,a,c,l,"next",e)}function l(e){S(o,r,a,c,l,"throw",e)}c(void 0)}))}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var a=F(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=new u.a,T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,e);var t=R(n);function n(){var e;D(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return L(U(e=t.call.apply(t,[this].concat(c))),"state",{name:"",file:"",issued_by:""}),L(U(e),"downloadFile",k(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I.downloadWorkerCompetency(e.props.competencyId).then((function(t){var n=window.URL.createObjectURL(new Blob([t])),r=document.createElement("a");r.href=n;var a=e.state.file.split("/").pop();r.setAttribute("download",a),document.body.appendChild(r),r.click(),r.parentNode.removeChild(r)})).then((function(){console.log("file downloaded")})).catch((function(e){console.error("File download failed!"),console.error(e)}));case 1:case"end":return t.stop()}}),t)})))),L(U(e),"componentDidMount",k(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getProfileFetch().then((function(){return I.getDetailsOf("worker_special_competencies",e.props.competencyId)})).then((function(t){return e.setState(P({},t))})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})))),L(U(e),"render",(function(){return a.a.createElement(o.N,{flush:!0},a.a.createElement(o.O,null,a.a.createElement("p",null,a.a.createElement("strong",null,"Competency scan: ")),a.a.createElement(o.e,{variant:"outline",color:"success",id:"file",onClick:e.downloadFile},"Download")),a.a.createElement(o.O,null,a.a.createElement("p",null,a.a.createElement("strong",null,"Issued_by: "),e.state.issued_by)))})),e}return n}(r.Component),A=Object(_.b)(null,(function(e){return{getProfileFetch:function(){return e(Object(j.g)())}}}))(T);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t,n,r,a,o,c){try{var l=e[o](c),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){B(o,r,a,c,l,"next",e)}function l(e){B(o,r,a,c,l,"throw",e)}c(void 0)}))}}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var a=V(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=new u.a,K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(n,e);var t=H(n);function n(){var e;W(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return X(Y(e=t.call.apply(t,[this].concat(c))),"state",{current_competency_id:"",current_competency_info:"",competencies:[]}),X(Y(e),"handleCompetencySelect",(function(t){e.state.current_competency_id===t.target.name?e.setState({current_competency_id:""}):e.setState({current_competency_id:t.target.name})})),X(Y(e),"componentDidMount",q(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getProfileFetch().then((function(){return Z.getEntityList("worker_special_competencies",{worker_id:e.props.workerId})})).then((function(t){e.setState({competencies:t})})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})))),X(Y(e),"render",(function(){return e.state.competencies.length>0?e.state.competencies.map((function(t,n){return a.a.createElement(o.f,{key:"card-".concat(n),className:"mb-0"},a.a.createElement(o.i,{key:"ch-".concat(n),id:t.id},a.a.createElement("h6",{key:"h6-".concat(n),className:"m-0 p-0"},t.name),a.a.createElement(o.e,{key:"btn-".concat(n),block:!0,color:"link",className:"text-left m-0 p-0",id:t.id,value:t.id,name:t.id,onClick:e.handleCompetencySelect},"Display Details")),a.a.createElement(o.m,{key:"clps-".concat(n),show:e.state.current_competency_id===t.id.toString()},a.a.createElement(o.g,{key:"cbody-".concat(n)},a.a.createElement(A,{competencyId:t.id}))))})):a.a.createElement("p",null,"The contractor hasn't attached any competencies yet.")})),e}return n}(r.Component),Q=Object(_.b)(null,(function(e){return{getProfileFetch:function(){return e(Object(j.g)())}}}))(K);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n,r,a,o,c){try{var l=e[o](c),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(r,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){ne(o,r,a,c,l,"next",e)}function l(e){ne(o,r,a,c,l,"throw",e)}c(void 0)}))}}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var a=ue(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=new u.a,pe=a.a.createElement("div",{className:"pt-3 text-center"},a.a.createElement(o.fb,{size:"sm",variant:"grow",style:{width:"4rem",height:"4rem"}})),fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(n,e);var t=ce(n);function n(){var e;ae(this,n);for(var c=arguments.length,l=new Array(c),i=0;i<c;i++)l[i]=arguments[i];return se(ie(e=t.call.apply(t,[this].concat(l))),"state",{name:"",contractor:e.props.contractor,birthday:"",card_number_id:"",license_number:"",license_scan:"",passport:"",passport_scan:"",safety_green_card:"",safety_green_card_scan:"",position_in_company:"",safety_quiz_answer:"",personal_declaration:"",special_competency:"",special_competency_scan:"",registration_number:"",filename:"",doc_type:""}),se(ie(e),"downloadFile",function(){var t=re(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({filename:n.target.value,doc_type:n.target.name},(function(){me.downloadWorkerDocument(e.props.workerId,e.state.doc_type).then((function(t){var n=window.URL.createObjectURL(new Blob([t])),r=document.createElement("a");r.href=n;var a=e.state.filename.split("/").pop();r.setAttribute("download",a),document.body.appendChild(r),r.click(),r.parentNode.removeChild(r)})).then((function(){console.log("file downloaded")})).catch((function(e){console.error("File download failed!"),console.error(e)}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),se(ie(e),"componentDidMount",re(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getProfileFetch().then((function(){return me.getDetailsOf("workers",e.props.workerId)})).then((function(t){return e.setState(te({},t))})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})))),se(ie(e),"render",(function(){return a.a.createElement(r.Suspense,{fallback:pe},a.a.createElement(o.N,{flush:!0},a.a.createElement(o.O,null,a.a.createElement("p",null,a.a.createElement("strong",null,"Birthday: "),e.state.birthday)),a.a.createElement(o.O,null,a.a.createElement("p",null,a.a.createElement("strong",null,"Card number ID: "),e.state.card_number_id)),a.a.createElement(o.O,null,a.a.createElement("p",null,a.a.createElement("strong",null,"License Number: "),e.state.license_number),a.a.createElement(o.e,{variant:"outline",color:"success",id:"license_scan",name:"license_scan",value:e.state.license_scan,onClick:e.downloadFile},"Download")),a.a.createElement(o.O,null,a.a.createElement("p",null,a.a.createElement("strong",null,"Passport: "),e.state.passport),a.a.createElement(o.e,{variant:"outline",color:"success",id:"passport_scan",name:"passport_scan",value:e.state.passport_scan,onClick:e.downloadFile},"Download")),a.a.createElement(o.O,null,a.a.createElement("p",null,a.a.createElement("strong",null,"Safety Green Card: "),e.state.safety_green_card),a.a.createElement(o.e,{variant:"outline",color:"success",id:"safety_green_card_scan",name:"safety_green_card_scan",value:e.state.safety_green_card_scan,onClick:e.downloadFile},"Download")),a.a.createElement(o.O,null,a.a.createElement("p",null,a.a.createElement("strong",null,"Special competencies:")),a.a.createElement(Q,{workerId:e.props.workerId})),a.a.createElement(o.O,null,a.a.createElement("p",null,a.a.createElement("strong",null,"Registration number: "),e.state.registration_number)),a.a.createElement(o.O,null,a.a.createElement("p",null,a.a.createElement("strong",null,"Position in Company: "),e.state.position_in_company)),a.a.createElement(o.O,null,a.a.createElement("p",null,a.a.createElement("strong",null,"Safety quiz answer: ")),a.a.createElement(o.e,{variant:"outline",color:"success",id:"safety_quiz_answer",name:"safety_quiz_answer",value:e.state.safety_quiz_answer,onClick:e.downloadFile},"Download")),a.a.createElement(o.O,null,a.a.createElement("p",null,a.a.createElement("strong",null,"Personal declaration: ")),a.a.createElement(o.e,{variant:"outline",color:"success",id:"personal_declaration",name:"personal_declaration",value:e.state.personal_declaration,onClick:e.downloadFile},"Download"))))})),e}return n}(r.Component),de=Object(_.b)(null,(function(e){return{getProfileFetch:function(){return e(Object(j.g)())}}}))(fe),ye=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"mb-2 "},a.a.createElement("strong",null,e.groupLabel)),e.options.map((function(t,n){return a.a.createElement(o.x,{className:"d-flex align-items-center",key:n},a.a.createElement(o.hb,{className:"mr-2",id:t,name:t,value:t,shape:"pill",variant:"3d",color:"success",size:"sm",onChange:e.handleCheck,checked:e.parentState[t]}),a.a.createElement(o.L,{variant:"checkbox",className:"form-check-label",htmlFor:t},t.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")))})))}},685:function(e,t){},767:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(24),c=n(95),l=n(166),i=n(165),u=(n(685),n(60)),s=a.a.lazy((function(){return n.e(9).then(n.bind(null,738))})),m=a.a.lazy((function(){return n.e(16).then(n.bind(null,739))})),p=a.a.lazy((function(){return Promise.all([n.e(0),n.e(22)]).then(n.bind(null,740))})),f=a.a.lazy((function(){return n.e(6).then(n.bind(null,741))})),d=a.a.lazy((function(){return n.e(17).then(n.bind(null,742))})),y=a.a.lazy((function(){return n.e(8).then(n.bind(null,743))})),b=a.a.lazy((function(){return Promise.all([n.e(0),n.e(28)]).then(n.bind(null,744))})),h=a.a.lazy((function(){return Promise.all([n.e(0),n.e(29)]).then(n.bind(null,745))})),v=a.a.lazy((function(){return n.e(11).then(n.bind(null,746))})),E=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(14)]).then(n.bind(null,747))})),g=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,748))})),w=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(13)]).then(n.bind(null,749))})),O=a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,750))})),_=a.a.lazy((function(){return n.e(18).then(n.bind(null,751))})),j=a.a.lazy((function(){return Promise.all([n.e(0),n.e(19)]).then(n.bind(null,752))})),x=a.a.lazy((function(){return Promise.all([n.e(0),n.e(24)]).then(n.bind(null,753))})),N=a.a.lazy((function(){return Promise.all([n.e(0),n.e(25)]).then(n.bind(null,754))})),P=a.a.lazy((function(){return n.e(35).then(n.bind(null,755))})),S=a.a.lazy((function(){return n.e(7).then(n.bind(null,756))})),k=a.a.lazy((function(){return Promise.all([n.e(0),n.e(26)]).then(n.bind(null,757))})),D=a.a.lazy((function(){return Promise.all([n.e(0),n.e(27)]).then(n.bind(null,758))})),C=a.a.lazy((function(){return n.e(32).then(n.bind(null,759))})),R=a.a.lazy((function(){return Promise.all([n.e(0),n.e(31)]).then(n.bind(null,760))})),z=a.a.lazy((function(){return Promise.all([n.e(0),n.e(34)]).then(n.bind(null,761))})),U=a.a.lazy((function(){return Promise.all([n.e(0),n.e(23)]).then(n.bind(null,762))})),F=[{path:"/",exact:!0,name:"Fox"},{path:"/projects",name:"Projects",component:s,exact:!0},{path:"/projects/new",name:"New",component:w,exact:!0},{path:"/projects/:id/ptw",name:"PTW",component:_,exact:!0},{path:"/projects/:id/documents",name:"Documents",component:S,exact:!0},{path:"/projects/:id/documents/new",name:"New",component:k,exact:!1},{path:"/projects/:id/documents/:doc_id",name:"Document Details",component:D,exact:!1},{path:"/safety/presets",name:"Safety Presets",component:R,exact:!0},{path:"/safety/video",name:"Safety Video",component:C,exact:!0},{path:"/projects/:id/assign_workers",name:"Assign Workers",component:z,exact:!0},{path:"/projects/:id/submit_proposal",name:"Submit Proposal",component:a.a.lazy((function(){return n.e(30).then(n.bind(null,763))})),exact:!0},{path:"/projects/:id/related_documents",name:"Related Documents",component:j,exact:!0},{path:"/projects/:id",name:"Project Details",component:O,exact:!1},{path:"/approvals",name:"Approvals",component:m,exact:!0},{path:"/documents",name:"Documents",component:U,exact:!0},{path:"/approvals/:id",name:"Approval Details",component:p,exact:!0},{path:"/current-works",name:"Current Works",component:d,exact:!0},{path:"/contractors",name:"Contractors",component:f,exact:!0},{path:"/contractors/new",name:"New",component:x,exact:!0},{path:"/contractors/:id",name:"Contractor Details",component:N,exact:!0},{path:"/contractors/:id/workers_review",name:"Workers Review",component:P,exact:!0},{path:"/managers",name:"Managers",component:y,exact:!0},{path:"/managers/new",name:"New",component:b,exact:!0},{path:"/managers/:id",name:"Manager Details",component:h,exact:!0},{path:"/workers",name:"Workers",component:v,exact:!0},{path:"/workers/new",name:"New",component:E,exact:!0},{path:"/workers/:id",name:"Worker Details",component:g,exact:!0},{path:"/workers/:id/competencies",name:"Spec. Competencies",component:a.a.lazy((function(){return n.e(10).then(n.bind(null,764))})),exact:!0},{path:"/workers/:id/competencies/new",name:"New Competency",component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(33)]).then(n.bind(null,765))})),exact:!0},{path:"/workers/:id/competencies/:competency_id",name:"Competency Details",component:a.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,766))})),exact:!0}],L=n(652),I=Object(c.b)((function(e){return{navigation:e.headerNav,company:e.company}}))((function(e){var t=Object(c.c)(),n=Object(c.d)((function(e){return e.sidebarShow}));return a.a.createElement(i.y,{withSubheader:!0},a.a.createElement(i.jb,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var e=!![!1,"responsive"].includes(n)||"responsive";t({type:"set",sidebarShow:e})}}),a.a.createElement(i.jb,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var e=![!0,"responsive"].includes(n)&&"responsive";t({type:"set",sidebarShow:e})}}),a.a.createElement(i.z,{className:"mx-auto d-lg-none",to:"/"}),a.a.createElement(i.A,{className:"mr-auto"},a.a.createElement(i.o,{items:e.navigation,components:{CHeaderNavItem:i.B,CHeaderNavLink:i.C,FoxHeaderNavLink:L.b}})),a.a.createElement(i.A,{className:"px-3"},a.a.createElement(Z,null),a.a.createElement(X,null),a.a.createElement(V,null)),a.a.createElement(i.gb,{className:"px-3 justify-content-between"},a.a.createElement(i.d,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3",routes:F})))}));function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var a=H(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return W(this,n)}}function W(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?J(e):t}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(c,e);var t,n,r,o=q(c);function c(){var e;A(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return G(J(e=o.call.apply(o,[this].concat(n))),"handleClick",(function(t){t.preventDefault(),e.props.logoutUser()})),e}return t=c,(n=[{key:"render",value:function(){return a.a.createElement(i.q,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down"},a.a.createElement(i.t,{className:"c-header-nav-link",caret:!1},a.a.createElement(u.a,{name:"cil-user"})),a.a.createElement(i.s,{className:"pt-0",placement:"bottom-end"},a.a.createElement(i.r,{header:!0,tag:"div",color:"light",className:"text-center"},a.a.createElement("strong",null,"Settings")),a.a.createElement(i.r,null,a.a.createElement(u.a,{name:"cil-settings",className:"mfe-2"}),"Settings"),a.a.createElement(i.r,{divider:!0}),a.a.createElement(i.r,{onClick:this.handleClick},a.a.createElement(u.a,{name:"cil-account-logout",className:"mfe-2"}),"Logout")))}}])&&M(t.prototype,n),r&&M(t,r),c}(r.Component),V=Object(c.b)((function(e){return{currentUser:e.currentUser}}),(function(e){return{logoutUser:function(){return e(Object(l.k)())}}}))(Y),X=function(){return a.a.createElement(i.q,{inNav:!0,className:"c-header-nav-item mx-2",direction:"down"},a.a.createElement(i.t,{className:"c-header-nav-link",caret:!1},a.a.createElement(u.a,{name:"cil-envelope-open"}),a.a.createElement(i.a,{shape:"pill",color:"info"},4)),a.a.createElement(i.s,{className:"pt-0",placement:"bottom-end"},a.a.createElement(i.r,{header:!0,tag:"div",color:"light"},a.a.createElement("strong",null,"You have ",4," messages")),a.a.createElement(i.r,{href:"#"},a.a.createElement("div",{className:"message"},a.a.createElement("div",{className:"pt-3 mr-3 float-left"},a.a.createElement("div",{className:"c-avatar"},a.a.createElement(i.D,{src:"avatars/7.jpg",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"}),a.a.createElement("span",{className:"c-avatar-status bg-success"}))),a.a.createElement("div",null,a.a.createElement("small",{className:"text-muted"},"John Doe"),a.a.createElement("small",{className:"text-muted float-right mt-1"},"Just now")),a.a.createElement("div",{className:"text-truncate font-weight-bold"},a.a.createElement("span",{className:"fa fa-exclamation text-danger"})," Important message"),a.a.createElement("div",{className:"small text-muted text-truncate"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt..."))),a.a.createElement(i.r,{href:"#"},a.a.createElement("div",{className:"message"},a.a.createElement("div",{className:"pt-3 mr-3 float-left"},a.a.createElement("div",{className:"c-avatar"},a.a.createElement(i.D,{src:"avatars/6.jpg",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"}),a.a.createElement("span",{className:"c-avatar-status bg-warning"}))),a.a.createElement("div",null,a.a.createElement("small",{className:"text-muted"},"Jane Dovve"),a.a.createElement("small",{className:"text-muted float-right mt-1"},"5 minutes ago")),a.a.createElement("div",{className:"text-truncate font-weight-bold"},"Lorem ipsum dolor sit amet"),a.a.createElement("div",{className:"small text-muted text-truncate"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt..."))),a.a.createElement(i.r,{href:"#"},a.a.createElement("div",{className:"message"},a.a.createElement("div",{className:"pt-3 mr-3 float-left"},a.a.createElement("div",{className:"c-avatar"},a.a.createElement(i.D,{src:"avatars/5.jpg",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"}),a.a.createElement("span",{className:"c-avatar-status bg-danger"}))),a.a.createElement("div",null,a.a.createElement("small",{className:"text-muted"},"Janet Doe"),a.a.createElement("small",{className:"text-muted float-right mt-1"},"1:52 PM")),a.a.createElement("div",{className:"text-truncate font-weight-bold"},"Lorem ipsum dolor sit amet"),a.a.createElement("div",{className:"small text-muted text-truncate"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt..."))),a.a.createElement(i.r,{href:"#"},a.a.createElement("div",{className:"message"},a.a.createElement("div",{className:"pt-3 mr-3 float-left"},a.a.createElement("div",{className:"c-avatar"},a.a.createElement(i.D,{src:"avatars/4.jpg",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"}),a.a.createElement("span",{className:"c-avatar-status bg-info"}))),a.a.createElement("div",null,a.a.createElement("small",{className:"text-muted"},"Joe Doe"),a.a.createElement("small",{className:"text-muted float-right mt-1"},"4:03 AM")),a.a.createElement("div",{className:"text-truncate font-weight-bold"},"Lorem ipsum dolor sit amet"),a.a.createElement("div",{className:"small text-muted text-truncate"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt..."))),a.a.createElement(i.r,{href:"#",className:"text-center border-top"},a.a.createElement("strong",null,"View all messages"))))},Z=function(){return a.a.createElement(i.q,{inNav:!0,className:"c-header-nav-item mx-2"},a.a.createElement(i.t,{className:"c-header-nav-link",caret:!1},a.a.createElement(u.a,{name:"cil-bell"}),a.a.createElement(i.a,{shape:"pill",color:"danger"},5)),a.a.createElement(i.s,{placement:"bottom-end",className:"pt-0"},a.a.createElement(i.r,{header:!0,tag:"div",className:"text-center",color:"light"},a.a.createElement("strong",null,"You have ",5," notifications")),a.a.createElement(i.r,null,a.a.createElement(u.a,{name:"cil-user-follow",className:"mr-2 text-success"})," New user registered"),a.a.createElement(i.r,null,a.a.createElement(u.a,{name:"cil-user-unfollow",className:"mr-2 text-danger"})," User deleted"),a.a.createElement(i.r,null,a.a.createElement(u.a,{name:"cil-chart-pie",className:"mr-2 text-info"})," Sales report is ready"),a.a.createElement(i.r,null,a.a.createElement(u.a,{name:"cil-basket",className:"mr-2 text-primary"})," New client"),a.a.createElement(i.r,null,a.a.createElement(u.a,{name:"cil-speedometer",className:"mr-2 text-warning"})," Server overloaded"),a.a.createElement(i.r,{header:!0,tag:"div",color:"light"},a.a.createElement("strong",null,"Server")),a.a.createElement(i.r,{className:"d-block"},a.a.createElement("div",{className:"text-uppercase mb-1"},a.a.createElement("small",null,a.a.createElement("b",null,"CPU Usage"))),a.a.createElement(i.U,{size:"xs",color:"info",value:25}),a.a.createElement("small",{className:"text-muted"},"348 Processes. 1/4 Cores.")),a.a.createElement(i.r,{className:"d-block"},a.a.createElement("div",{className:"text-uppercase mb-1"},a.a.createElement("small",null,a.a.createElement("b",null,"Memory Usage"))),a.a.createElement(i.U,{size:"xs",color:"warning",value:70}),a.a.createElement("small",{className:"text-muted"},"11444GB/16384MB")),a.a.createElement(i.r,{className:"d-block"},a.a.createElement("div",{className:"text-uppercase mb-1"},a.a.createElement("small",null,a.a.createElement("b",null,"SSD 1 Usage"))),a.a.createElement(i.U,{size:"xs",color:"danger",value:90}),a.a.createElement("small",{className:"text-muted"},"243GB/256GB"))))},K=Object(c.b)((function(e){return{navigation:e.sidebar,company:e.currentUser.company_name,projectId:e.projectId}}))(a.a.memo(Object(o.h)((function(e){var t=Object(c.c)(),n=Object(c.d)((function(e){return e.sidebarShow}));return a.a.createElement(i.X,{show:n,onShowChange:function(e){return t({type:"set",sidebarShow:e})}},a.a.createElement(i.Y,{className:"d-md-down-none",to:"/"},a.a.createElement("h2",null,e.company?e.company:"FOX")),a.a.createElement(i.ab,null,e.projectId?a.a.createElement(i.o,{items:e.navigation,components:{CSidebarNavDivider:i.bb,CSidebarNavDropdown:i.cb,CSidebarNavItem:i.db,CSidebarNavTitle:i.eb}}):null),a.a.createElement(i.Z,{className:"c-d-md-down-none"}))})))),Q=a.a.createElement("div",{className:"pt-3 text-center"},a.a.createElement(i.fb,{size:"sm",variant:"grow",style:{width:"4rem",height:"4rem"}})),$=a.a.lazy((function(){return n.e(2).then(n.bind(null,737))})),ee=function(e){return a.a.createElement("main",{className:"c-main"},a.a.createElement(i.n,{fluid:!0},a.a.createElement(r.Suspense,{fallback:Q},a.a.createElement(o.d,null,F.map((function(e,t){return e.component&&a.a.createElement(o.b,{key:t,path:e.path,exact:e.exact,name:e.name,render:function(t){return a.a.createElement(i.v,null,a.a.createElement(e.component,t))}})})),a.a.createElement(o.a,{from:"/",to:"/projects"}),a.a.createElement(a.a.Fragment,null,a.a.createElement($,null))))))},te=Object(c.b)((function(e){return{role:e.currentUser.role}}),null)(a.a.memo(ee));function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t,n,r,a,o,c){try{var l=e[o](c),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(r,a)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){re(o,r,a,c,l,"next",e)}function l(e){re(o,r,a,c,l,"throw",e)}c(void 0)}))}}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var a=me(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?se(e):t}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(l,e);var t,n,r,c=ie(l);function l(){var e;oe(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pe(se(e=c.call.apply(c,[this].concat(n))),"componentDidMount",ae(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getProfileFetch().then((function(){return e.props.getDashboardLayout(e.props.currentUser.role,e.props.match.params.id)}));case 2:case"end":return t.stop()}}),t)})))),pe(se(e),"componentDidUpdate",(function(t){var n=Object(o.f)(e.props.location.pathname,{path:"/projects/:id",exact:!0});n&&t.location.pathname!=e.props.location.pathname&&e.props.getDashboardLayout(e.props.currentUser.role,n.params.id)})),e}return t=l,(n=[{key:"render",value:function(){return this.props.currentUser.username?a.a.createElement("div",{className:"c-app c-default-layout"},a.a.createElement(K,null),a.a.createElement("div",{className:"c-wrapper"},a.a.createElement(I,null),a.a.createElement("div",{className:"c-body"},a.a.createElement(te,null)))):a.a.createElement(o.a,{to:"/login"})}}])&&ce(t.prototype,n),r&&ce(t,r),l}(r.Component);t.default=Object(c.b)((function(e){return{currentUser:e.currentUser,navigation:e.sidebar}}),(function(e){return{getProfileFetch:function(){return e(Object(l.g)())},getDashboardLayout:function(t,n){return e(Object(l.e)(t,n))}}}))(fe)}}]);
//# sourceMappingURL=15.main.js.map