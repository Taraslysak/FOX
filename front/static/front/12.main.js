(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{648:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return pe})),n.d(t,"b",(function(){return me})),n.d(t,"c",(function(){return ve}));var r=n(1),o=n.n(r),a=n(12),c=function(e){return o.a.createElement(a.H,e,e.linktext)},i=n(737),u=n.n(i),l=n(22);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=new l.a,O=o.a.createElement("div",{className:"pt-3 text-center"},o.a.createElement(a.kb,{size:"sm",variant:"grow",style:{width:"4rem",height:"4rem"}})),E=(r.Component,n(47)),j=n(56);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){S(a,r,o,c,i,"next",e)}function i(e){S(a,r,o,c,i,"throw",e)}c(void 0)}))}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?z(e):t}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=new l.a,U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(n,e);var t=C(n);function n(){var e;D(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return F(z(e=t.call.apply(t,[this].concat(c))),"state",{name:"",file:"",issued_by:""}),F(z(e),"downloadFile",k(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I.downloadWorkerCompetency(e.props.competencyId).then((function(t){var n=window.URL.createObjectURL(new Blob([t])),r=document.createElement("a");r.href=n;var o=e.state.file.split("/").pop();r.setAttribute("download",o),document.body.appendChild(r),r.click(),r.parentNode.removeChild(r)})).catch((function(e){console.error("File download failed!"),console.error(e)}));case 1:case"end":return t.stop()}}),t)})))),F(z(e),"componentDidMount",k(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getProfileFetch().then((function(){return I.getDetailsOf("worker_special_competencies",e.props.competencyId)})).then((function(t){return e.setState(x({},t))})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})))),F(z(e),"render",(function(){var t=e.state,n=t.name,r=t.issued_by;return o.a.createElement(a.T,null,o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("strong",null,"Competency name: "),n),o.a.createElement(a.e,{variant:"outline",color:"success",id:"file",onClick:e.downloadFile},"Download scan")),o.a.createElement("p",null,o.a.createElement("strong",null,"Issued_by: "),r))})),e}return n}(r.Component),A=Object(E.b)(null,(function(e){return{getProfileFetch:function(){return e(Object(j.h)())}}}))(U);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){L(a,r,o,c,i,"next",e)}function i(e){L(a,r,o,c,i,"throw",e)}c(void 0)}))}}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Q(e);if(t){var o=Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?J(e):t}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=new l.a,Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(n,e);var t=B(n);function n(){var e;H(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return V(J(e=t.call.apply(t,[this].concat(c))),"state",{showCompetencies:!1,competencies:[]}),V(J(e),"handleShowCompetencies",(function(){var t=e.state.showCompetencies;e.setState({showCompetencies:!t})})),V(J(e),"componentDidMount",W(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getProfileFetch().then((function(){return X.getEntityList("worker_special_competencies",{worker_id:e.props.workerId})})).then((function(t){e.setState({competencies:t})})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})))),V(J(e),"render",(function(){var t=e.state,n=t.showCompetencies,r=t.competencies;return e.state.competencies.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Special competencies:")),o.a.createElement(a.e,{block:!0,color:"link",className:"text-left m-0 p-0",name:n,onClick:e.handleShowCompetencies},"Display Details"),o.a.createElement(a.r,{show:n},o.a.createElement(a.S,null,r.map((function(e,t){return o.a.createElement(A,{key:"cbody-".concat(t),competencyId:e.id})}))))):o.a.createElement("p",null,"The contractor hasn't attached any competencies yet.")})),e}return n}(r.Component),$=Object(E.b)(null,(function(e){return{getProfileFetch:function(){return e(Object(j.h)())}}}))(Y);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){te(a,r,o,c,i,"next",e)}function i(e){te(a,r,o,c,i,"throw",e)}c(void 0)}))}}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=new l.a,fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(n,e);var t=ae(n);function n(){var e;re(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return le(ie(e=t.call.apply(t,[this].concat(c))),"state",{name:"",contractor:e.props.contractor,birthday:"",card_number_id:"",license_number:"",license_scan:"",passport:"",passport_scan:"",safety_green_card:"",safety_green_card_scan:"",position_in_company:"",safety_quiz_answer:"",personal_declaration:"",special_competency:"",special_competency_scan:"",registration_number:"",filename:"",doc_type:""}),le(ie(e),"downloadFile",function(){var t=ne(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({filename:n.target.value,doc_type:n.target.name},(function(){se.downloadWorkerDocument(e.props.workerId,e.state.doc_type).then((function(t){var n=window.URL.createObjectURL(new Blob([t])),r=document.createElement("a");r.href=n;var o=e.state.filename.split("/").pop();r.setAttribute("download",o),document.body.appendChild(r),r.click(),r.parentNode.removeChild(r)})).catch((function(e){console.error("File download failed!"),console.error(e)}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),le(ie(e),"componentDidMount",ne(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getProfileFetch().then((function(){return se.getDetailsOf("workers",e.props.workerId)})).then((function(t){return e.setState(ee({},t))})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})))),le(ie(e),"render",(function(){return o.a.createElement(a.S,{flush:!0},o.a.createElement(a.T,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Birthday: "),e.state.birthday)),o.a.createElement(a.T,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Card number ID: "),e.state.card_number_id)),o.a.createElement(a.T,null,o.a.createElement("p",null,o.a.createElement("strong",null,"License Number: "),e.state.license_number),o.a.createElement(a.e,{variant:"outline",color:"success",id:"license_scan",name:"license_scan",value:e.state.license_scan,onClick:e.downloadFile},"Download")),o.a.createElement(a.T,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Passport: "),e.state.passport),o.a.createElement(a.e,{variant:"outline",color:"success",id:"passport_scan",name:"passport_scan",value:e.state.passport_scan,onClick:e.downloadFile},"Download")),o.a.createElement(a.T,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Safety Green Card: "),e.state.safety_green_card),o.a.createElement(a.e,{variant:"outline",color:"success",id:"safety_green_card_scan",name:"safety_green_card_scan",value:e.state.safety_green_card_scan,onClick:e.downloadFile},"Download")),o.a.createElement(a.T,null,o.a.createElement($,{workerId:e.props.workerId})),o.a.createElement(a.T,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Registration number: "),e.state.registration_number)),o.a.createElement(a.T,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Position in Company: "),e.state.position_in_company)),o.a.createElement(a.T,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Safety quiz answer: ")),o.a.createElement(a.e,{variant:"outline",color:"success",id:"safety_quiz_answer",name:"safety_quiz_answer",value:e.state.safety_quiz_answer,onClick:e.downloadFile},"Download")),o.a.createElement(a.T,null,o.a.createElement("p",null,o.a.createElement("strong",null,"Personal declaration: ")),o.a.createElement(a.e,{variant:"outline",color:"success",id:"personal_declaration",name:"personal_declaration",value:e.state.personal_declaration,onClick:e.downloadFile},"Download")))})),e}return n}(r.Component),pe=Object(E.b)(null,(function(e){return{getProfileFetch:function(){return e(Object(j.h)())}}}))(fe),me=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"mb-2 "},o.a.createElement("strong",null,e.groupLabel)),e.options.map((function(t,n){return o.a.createElement(a.C,{className:"d-flex align-items-center",key:n},o.a.createElement(a.mb,{className:"mr-2",id:t,name:t,value:t,shape:"pill",variant:"3d",color:"success",size:"sm",onChange:e.handleCheck,checked:e.parentState[t]}),o.a.createElement(a.Q,{variant:"checkbox",className:"form-check-label",htmlFor:t},t.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")))})))},de=n(26);function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=864e5,we=function(e){return!0===e?"font-weight-bold":""},ve=Object(E.b)(null,(function(e){return{readNotification:function(t){return e(Object(j.m)(t))}}}))(Object(de.h)((function(e){var t=function(e){var t=new Date(e),n=new Date-t;if(n<6e4)return"Now";if(n<3e5){var r=Math.round(n/6e4);return"".concat(r," minutes ago")}if(n<he)return new Intl.DateTimeFormat([],{hour:"2-digit",minute:"2-digit"}).format(t);if(n<5*he){var o=Math.round(n/he);return o<2?"yesterday":"".concat(o," days ago")}return n<31536e6?new Intl.DateTimeFormat([],{day:"2-digit",month:"short"}).format(t):(new Intl.DateTimeFormat).format(t)}(e.notification.emitted);return o.a.createElement("div",{className:"message w-100",onClick:function(){return t=[e.notification,e.readNotification],n=ye(t,2),r=n[0],o=n[1],void(r.unread&&o(r.id));var t,n,r,o}},o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement("small",{className:"text-muted mt-1 ".concat(we(e.notification.unread))},t)),o.a.createElement("div",{className:"text-truncate font-weight-bold"}),o.a.createElement("div",{className:"text-muted text-truncate ".concat(we(e.notification.unread))},e.notification.text))})))},687:function(e,t){},774:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(26),c=n(47),i=n(56),u=n(12),l=(n(687),n(63)),s=o.a.lazy((function(){return n.e(8).then(n.bind(null,743))})),f=o.a.lazy((function(){return n.e(13).then(n.bind(null,744))})),p=o.a.lazy((function(){return Promise.all([n.e(0),n.e(25)]).then(n.bind(null,745))})),m=o.a.lazy((function(){return n.e(5).then(n.bind(null,746))})),d=o.a.lazy((function(){return n.e(14).then(n.bind(null,747))})),y=o.a.lazy((function(){return n.e(7).then(n.bind(null,748))})),b=o.a.lazy((function(){return Promise.all([n.e(0),n.e(31)]).then(n.bind(null,749))})),h=o.a.lazy((function(){return n.e(17).then(n.bind(null,750))})),w=o.a.lazy((function(){return Promise.all([n.e(0),n.e(32)]).then(n.bind(null,751))})),v=o.a.lazy((function(){return n.e(10).then(n.bind(null,752))})),g=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(22)]).then(n.bind(null,753))})),O=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(23)]).then(n.bind(null,754))})),E=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(21)]).then(n.bind(null,755))})),j=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(11)]).then(n.bind(null,756))})),_=o.a.lazy((function(){return n.e(15).then(n.bind(null,757))})),P=o.a.lazy((function(){return Promise.all([n.e(0),n.e(20)]).then(n.bind(null,758))})),x=o.a.lazy((function(){return Promise.all([n.e(0),n.e(27)]).then(n.bind(null,759))})),S=o.a.lazy((function(){return n.e(16).then(n.bind(null,760))})),k=o.a.lazy((function(){return Promise.all([n.e(0),n.e(28)]).then(n.bind(null,761))})),D=o.a.lazy((function(){return n.e(39).then(n.bind(null,762))})),N=o.a.lazy((function(){return n.e(6).then(n.bind(null,763))})),C=o.a.lazy((function(){return Promise.all([n.e(0),n.e(29)]).then(n.bind(null,764))})),R=o.a.lazy((function(){return Promise.all([n.e(0),n.e(30)]).then(n.bind(null,765))})),z=o.a.lazy((function(){return n.e(35).then(n.bind(null,766))})),T=o.a.lazy((function(){return Promise.all([n.e(0),n.e(34)]).then(n.bind(null,767))})),F=o.a.lazy((function(){return Promise.all([n.e(0),n.e(38)]).then(n.bind(null,768))})),I=o.a.lazy((function(){return Promise.all([n.e(0),n.e(26)]).then(n.bind(null,769))})),U=[{path:"/",exact:!0,name:"Fox"},{path:"/projects",name:"Projects",component:s,exact:!0},{path:"/projects/new",name:"New",component:E,exact:!0},{path:"/projects/:id/ptw",name:"PTW",component:_,exact:!0},{path:"/projects/:id/documents",name:"Documents",component:N,exact:!0},{path:"/projects/:id/documents/new",name:"New",component:C,exact:!1},{path:"/projects/:id/documents/:doc_id",name:"Document Details",component:R,exact:!1},{path:"/safety/presets",name:"Safety Presets",component:T,exact:!0},{path:"/safety/video",name:"Safety Video",component:z,exact:!0},{path:"/projects/:id/assign_workers",name:"Assign Workers",component:F,exact:!0},{path:"/projects/:id/submit_proposal",name:"Submit Proposal",component:o.a.lazy((function(){return n.e(33).then(n.bind(null,770))})),exact:!0},{path:"/projects/:id/related_documents",name:"Related Documents",component:P,exact:!0},{path:"/projects/:id",name:"Project Details",component:j,exact:!1},{path:"/approvals",name:"Approvals",component:f,exact:!0},{path:"/documents",name:"Documents",component:I,exact:!0},{path:"/approvals/:id",name:"Approval Details",component:p,exact:!0},{path:"/current-works",name:"Current Works",component:d,exact:!0},{path:"/contractors",name:"Contractors",component:m,exact:!0},{path:"/contractors/new",name:"New",component:x,exact:!0},{path:"/contractors/:id",name:"Contractor Details",component:S,exact:!0},{path:"/contractors/:id/edit",name:"Contractor Edition",component:k,exact:!0},{path:"/contractors/:id/workers_review",name:"Workers Review",component:D,exact:!0},{path:"/managers",name:"Managers",component:y,exact:!0},{path:"/managers/new",name:"New",component:b,exact:!0},{path:"/managers/:id",name:"Manager Details",component:h,exact:!0},{path:"/managers/:id/edit",name:"Manager Edition",component:w,exact:!0},{path:"/workers",name:"Workers",component:v,exact:!0},{path:"/workers/new",name:"New",component:g,exact:!0},{path:"/workers/:id",name:"Worker Details",component:O,exact:!0},{path:"/workers/:id/competencies",name:"Spec. Competencies",component:o.a.lazy((function(){return n.e(9).then(n.bind(null,771))})),exact:!0},{path:"/workers/:id/competencies/new",name:"New Competency",component:o.a.lazy((function(){return Promise.all([n.e(0),n.e(36)]).then(n.bind(null,772))})),exact:!0},{path:"/workers/:id/competencies/:competency_id",name:"Competency Details",component:o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(37)]).then(n.bind(null,773))})),exact:!0}],A=n(648),M=Object(c.b)((function(e){return{navigation:e.headerNav,company:e.company}}))((function(e){var t=Object(c.c)(),n=Object(c.d)((function(e){return e.sidebarShow}));return o.a.createElement(u.D,{withSubheader:!0},o.a.createElement(u.ob,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var e=!![!1,"responsive"].includes(n)||"responsive";t({type:"set",sidebarShow:e})}}),o.a.createElement(u.ob,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var e=![!0,"responsive"].includes(n)&&"responsive";t({type:"set",sidebarShow:e})}}),o.a.createElement(u.E,{className:"mx-auto d-lg-none",to:"/"}),o.a.createElement(u.F,{className:"mr-auto"},o.a.createElement(u.t,{items:e.navigation,components:{CHeaderNavItem:u.G,CHeaderNavLink:u.H,FoxHeaderNavLink:A.a}})),o.a.createElement(u.F,{className:"px-3"},o.a.createElement(ee,null),o.a.createElement(q,null)),o.a.createElement(u.lb,{className:"px-3 justify-content-between"},o.a.createElement(u.d,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3",routes:U})))}));function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var q=Object(c.b)((function(e){return{currentUser:e.currentUser}}),(function(e){return{logoutUser:function(){return e(Object(i.l)())},updateModal:function(t){var n=t.modalType,r=H(t,["modalType"]);return e(Object(i.p)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({modalType:n},r)))}}}))((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.v,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down"},o.a.createElement(u.y,{className:"c-header-nav-link",caret:!1},o.a.createElement(l.a,{name:"cil-settings"})),o.a.createElement(u.x,{className:"pt-0",placement:"bottom-end"},o.a.createElement(u.w,{header:!0,tag:"div",color:"light",className:"text-center"},o.a.createElement("strong",null,"Settings")),o.a.createElement(u.w,{onClick:function(){e.updateModal({modalType:"resetPasswordModal",email:e.currentUser.email})}},o.a.createElement(l.a,{name:"cil-lock-locked",className:"mfe-2"}),"Change password"),o.a.createElement(u.w,{divider:!0}),o.a.createElement(u.w,{onClick:function(t){t.preventDefault(),e.logoutUser()}},o.a.createElement(l.a,{name:"cil-account-logout",className:"mfe-2"}),"Logout"))))})),B=function(e){var t=e.items.filter((function(e){return e.unread})).length;return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{name:"cil-bell"}),t>0?o.a.createElement(u.a,{shape:"pill",color:"info"},t):null)};function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X(this,n)}}function X(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(n,e);var t=V(n);function n(){var e;J(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return K(Y(e=t.call.apply(t,[this].concat(a))),"state",{timer:""}),K(Y(e),"componentDidMount",(function(){e.props.getNotifications();var t=setInterval(e.props.getNotifications,6e4);e.setState({timer:t})})),K(Y(e),"componentWillUnmount",(function(){clearInterval(e.state.timer)})),K(Y(e),"render",(function(){return o.a.createElement(u.v,{inNav:!0,className:"c-header-nav-item mx-2",direction:"down"},o.a.createElement(u.y,{className:"c-header-nav-link",caret:!1},o.a.createElement(B,{items:e.props.notifications})),o.a.createElement(u.x,{className:"pt-0",placement:"bottom-end"},e.props.notifications.length>0?e.props.notifications.map((function(e){return o.a.createElement(u.w,{key:e.id,href:e.forward_link},o.a.createElement(A.c,{notification:e}))})):o.a.createElement(u.w,{href:"#"},o.a.createElement("div",{className:"text-muted text-truncate"},"You have no messages yet."))))})),e}return n}(r.Component),ee=Object(c.b)((function(e){return{notifications:e.notifications}}),(function(e){return{getNotifications:function(){return e(Object(i.g)())}}}))(Z),te=Object(c.b)((function(e){return{navigation:e.sidebar,company:e.currentUser.company_name,projectId:e.projectId}}))(o.a.memo(Object(a.h)((function(e){var t=Object(c.c)(),n=Object(c.d)((function(e){return e.sidebarShow}));return o.a.createElement(u.cb,{show:n,onShowChange:function(e){return t({type:"set",sidebarShow:e})}},o.a.createElement(u.db,{className:"d-md-down-none",to:"/"},o.a.createElement("h2",null,e.company?e.company:"FOX")),o.a.createElement(u.fb,null,e.projectId?o.a.createElement(u.t,{items:e.navigation,components:{CSidebarNavDivider:u.gb,CSidebarNavDropdown:u.hb,CSidebarNavItem:u.ib,CSidebarNavTitle:u.jb}}):null),o.a.createElement(u.eb,{className:"c-d-md-down-none"}))})))),ne=o.a.createElement("div",{className:"pt-3 text-center"},o.a.createElement(u.kb,{size:"sm",variant:"grow",style:{width:"4rem",height:"4rem"}})),re=o.a.lazy((function(){return n.e(3).then(n.bind(null,741))})),oe=function(e){return o.a.createElement("main",{className:"c-main"},o.a.createElement(u.s,{fluid:!0},o.a.createElement(r.Suspense,{fallback:ne},o.a.createElement(a.d,null,U.map((function(e,t){return e.component&&o.a.createElement(a.b,{key:t,path:e.path,exact:e.exact,name:e.name,render:function(t){return o.a.createElement(u.A,null,o.a.createElement(e.component,t))}})})),o.a.createElement(a.a,{from:"/",to:"/projects"}),o.a.createElement(o.a.Fragment,null,o.a.createElement(re,null))))))},ae=Object(c.b)((function(e){return{role:e.currentUser.role}}),null)(o.a.memo(oe));function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){ie(a,r,o,c,i,"next",e)}function i(e){ie(a,r,o,c,i,"throw",e)}c(void 0)}))}}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return me(this,n)}}function me(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?de(e):t}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(i,e);var t,n,r,c=pe(i);function i(){var e;le(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return be(de(e=c.call.apply(c,[this].concat(n))),"componentDidMount",ue(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.getProfileFetch().then((function(){return e.props.getDashboardLayout(e.props.currentUser.role,e.props.match.params.id)}));case 2:case"end":return t.stop()}}),t)})))),be(de(e),"componentDidUpdate",(function(t){var n=Object(a.f)(e.props.location.pathname,{path:"/projects/:id",exact:!0});n&&t.location.pathname!=e.props.location.pathname&&e.props.getDashboardLayout(e.props.currentUser.role,n.params.id)})),e}return t=i,(n=[{key:"render",value:function(){return this.props.currentUser.username?o.a.createElement("div",{className:"c-app c-default-layout"},o.a.createElement(te,null),o.a.createElement("div",{className:"c-wrapper"},o.a.createElement(M,null),o.a.createElement("div",{className:"c-body"},o.a.createElement(ae,null)))):o.a.createElement(a.a,{to:"/login"})}}])&&se(t.prototype,n),r&&se(t,r),i}(r.Component);t.default=Object(c.b)((function(e){return{currentUser:e.currentUser,navigation:e.sidebar}}),(function(e){return{getProfileFetch:function(){return e(Object(i.h)())},getDashboardLayout:function(t,n){return e(Object(i.e)(t,n))}}}))(he)}}]);
//# sourceMappingURL=12.main.js.map